# 크리스마스 프로모션

## 이벤트 목표

1. 중복된 할인과 증정을 허용해서, 고객들이 혜택을 많이 받는다는 것을 체감할 수 있게 하는 것
2. 올해 12월에 지난 5년 중 최고의 판매 금액을 달성
3. 12월 이벤트 참여 고객의 5%가 내년 1월 새해 이벤트에 재참여하는 것

## 구현 기능 목록

- [x] 사용자로부터 12월 중 식당 예상 방문 날짜를 입력받는다.
  - [x] 숫자가 아닌 입력값이 들어오면 예외 처리한다.
  - [x] 1이상 31 이하의 자연수가 아닌 값이 들어오면 예외 처리한다.
- [x] 사용자로부터 주문할 메뉴와 개수를 입력받는다.
  - [x] 쉼표 단위로 메뉴들을 분리하고, 하이픈 단위로 개수를 분리하여 주문 메뉴 리스트를 만든다.
  - [x] 메뉴판에 없는 메뉴를 입력하는 경우, 예외 처리한다.
  - [x] 메뉴의 개수가 1 이상의 숫자가 아닌 경우 예외 처리한다.
  - [x] 입력값이 예시 메뉴 형식과 다른 경우 예외 처리한다.
  - [x] 중복 메뉴를 입력한 경우 예외 처리한다.
  - [x] 음료만 주문 시, 주문할 수 없음.
  - [x] 한번에 최대 20개까지만 주문가능
- [ ] 주문 메뉴와 각종 혜택, 금액 등을 출력한다.
  - [x] 해당 날짜에 혜택을 미리 보여준다는 안내 문구를 출력한다.
  - [x] 주문 메뉴를 출력한다.
  - [x] 할인 전 총주문 금액을 출력한다.
    - [x] 도메인 로직에서 할인 전 총 주문금액을 계산하여 OutputView의 인자로 넘겨준다.
    - [ ] 총 주문 금액이 10,000원 이하일 경우 이벤트를 적용하지 않는다.
  - [ ] 증정 메뉴를 출력한다. 없다면, '없음'으로 출력한다.
    - [ ] 할인 전 총주문 금액이 12만 원 이상일 때, 샴페인 1개 증정
  - [ ] 혜택 내역을 출력한다. 없다면, '없음'으로 출력한다.
    - [ ] 크리스마스 디데이 할인: 2023.12.1 ~ 2023.12.25 사이 주문일 경우 1,000원으로 시작하여 크리스마스가 다가올 수록 100원씩 할인 적용
    - [ ] 평일 할인 적용 : 평일에는 디저트 메뉴를 메뉴 1개당 2,023원 할인 적용
    - [ ] 주말 할인 적용 : 주말에는 메인 메뉴를 메뉴 1개당 2,023원 할인
    - [ ] 특별 할인 적용 : 이벤트 달력에 별이 있으면 총주문 금액에서 1,000원 할인
    - [ ] 총 혜택 금액을 출력한다. (할인 금액의 합계 + 증정 메뉴의 가격)
    - [ ] 할인 후 예상 결제 금액을 출력한다. (할인 전 총주문 금액 - 할인 금액)
    - [ ] 12월 이벤트 배지를 출력한다. 없다면, '없음'으로 출력한다. (별, 트리, 산타)

## 요구사항

1. main 브랜치에 커밋
2. woowa-course Collaborator 추가
3. indent 2까지만 허용
4. 도메인 로직에 대한 단위 테스트 구현 (UI 로직에 대한 테스트 제외)
5. 핵심 로직과 UI 담당 로직의 구분
6. 사용자 입력 시 잘못된 입력을 받는 경우, 예외 처리 후 "[ERROR]"로 시작하는 에러메시지 출력 후 다시 입력받기
7. else 사용 지양
8. 함수(메서드) 15라인을 넘지 않도록 구현
9. InputView, OutputView 객체 사용

## 구조 설계

### 1. Controller

- EventPlanner : View와 Model을 활용하여 예약 Flow를 진행한다.

### 2. View

- inputView : 입력 시 안내하는 문구와 함께 사용자로부터 입력을 받는 역할
- OutputView : 콘솔에 출력되어 결과를 보여주는 역할

### 3. Model

> 각 할인 적용 대상들을 모델로 갖는다.

- TotalAmount : 총 금액과 모든 혜택현황을 종합한 정보와 로직을 담은 객체
  - 주문내역을 받아 할인전 총금액을 계산한다.
  - 각종 혜택 내역들을 더해 총혜택금액을 계산한다.
  - 총 할인금액을 계산하여 할인 후 예상결제금액을 계산한다.
  - 총주문 금액 10,000원 이상부터 이벤트 적용
- ChristmasDiscount : 크리스마스 할인 정보와 로직을 담은 객체
  - 이벤트 기간: 2023.12.1 ~ 2023.12.25
  - 1,000원으로 시작하여 크리스마스가 다가올수록 날마다 할인 금액이 100원씩 증가
- WeekdayDiscount : 평일 할인 정보와 로직을 담은 객체
  - 디저트 메뉴를 메뉴 1개당 2,023원 할인
- WeekendDiscount : 주말 할인 정보와 로직을 담은 객체
  - 메인 메뉴를 메뉴 1개당 2,023원 할인
- SpecialDiscount : 특별 할인 정보와 로직을 담은 객체
  - 이벤트 달력에 별이 있으면 총주문 금액에서 1,000원 할인
- Gift : 증정상품에 대한 정보와 로직을 담은 객체
  - 할인 전 총주문 금액이 12만 원 이상일 때, 샴페인 1개 증정
- Badge : 이벤트 뱃지에 대한 정보와 로직을 담은 객체
  - 5천 원 이상: 별
  - 1만 원 이상: 트리
  - 2만 원 이상: 산타

### 4. Error

> 지정한 Prefix와 에러 메시지를 결합하여 에러 객체를 리턴한다.
